<div ng-controller="PactsListCtrl">
    <div class="row mt10">
        <div class="col-md-6">
            <div class="form-group">
                <label class="control-label col-md-3">客户名称<span class="required">*</span></label>
                <div class="col-md-9">
                    <select class="form-control" bs-tooltip data-title="客户名称" title="客户名称"
                            ng-model="condition.customer.id"
                            ng-options="item.id as item.name for item in customerList">
                    </select>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group">
                <label class="control-label col-md-3">合同状态<span class="required">*</span></label>
                <div class="col-md-9 btn-group">
                    <select class="form-control" bs-tooltip data-title="合同状态" title="合同状态"
                            ng-model="condition.status.code"
                            ng-options="item.code as item.value for item in StatusList">
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt10">
        <div class="col-md-6">
            <div class="form-group">
                <label class="control-label col-md-3">合同金额</label>
                <div class="col-md-9">
                    <input type="text" class="form-control" placeholder="合同金额" ng-model="condition.sum">
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label class="control-label col-md-3">销售人员<span class="required">*</span></label>
                <div class="col-md-9">
                    <select class="form-control" bs-tooltip data-title="销售人员" title="销售人员"
                            ng-model="condition.sales.id"
                            ng-options="item.id as item.name for item in saleList">
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt10">
        <!--<div class="col-md-10">
            <span> </span>
        </div>-->
        <div class="col-md-12" align="right">
            <a href="javascript:" class="btn btn-outline btn-sm blue" ng-click="load();"><i class="fa fa-search"></i> 搜索</a>
        </div>
    </div>
    <div class="portlet box blue mt10">
        <div class="portlet-title">
            <div class="caption">
                <i class="icon-user-following"></i> 合同管理
            </div>
            <div class="tools">
                <a href="javascript:" class="fullscreen"> </a>
            </div>
            <div class="actions">
                <a href="/#modifyPactsModalDiv" data-toggle="modal" class="btn btn-sm btn-default" ng-click="prepareToAdd()">
                    <i class="fa fa-plus"></i> 增加合同
                </a>
            </div>
        </div>
        <div class="portlet-body">
            <table class="table table-bordered table-scrollable">
                <thead>
                <tr>
                    <th class="text-center wid140px">项目名称</th>
                    <th class="text-center wid90px">客户名称</th>
                    <th class="text-center wid90px">合同状态</th>
                    <th class="text-center wid90px">合同总额</th>
                    <th class="text-center wid90px">已回款</th>
                    <th class="text-center wid90px">签订时间</th>
                    <th class="text-center wid90px">销售人</th>
                    <th class="text-center wid140px">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in list">
                    <td class="text-center">{{item.name}}</td>
                    <td class="text-center">{{item.customer.name}}</td>
                    <td class="text-center">{{item.status.value}}</td>
                    <td class="text-center">{{item.sum}}</td>
                    <td class="text-center">{{item.recPay}}</td>
                    <td class="text-center">{{item.date|date:'yyyy-MM-dd'}}</td>
                    <td class="text-center">{{item.sales.name}}</td>
                    <td class="text-center">
                        <a href="javascript:" class="btn btn-sm btn-icon-only red" ng-click="remove(item)">
                            <i class="fa fa-ban"></i>
                        </a>
                        <a href="/#modifyPactsModalDiv" data-toggle="modal" class="btn btn-sm btn-icon-only yellow-gold"
                           ng-click="prepareToUpdate(item)"><i class="fa fa-edit"></i></a>
                    </td>
                </tr>
                </tbody>
            </table>
            <div table-paging-footer></div>
        </div>
    </div>
</div>
