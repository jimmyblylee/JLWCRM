<div class="modal t-modal-portlet" tabindex="-1" role="dialog"  id="editUserDivId" >
	<form role="form" name="updateForm" novalidate	ng-controller='userInfoPageCtrl'>
		<div class="modal-dialog t-user-modal modal-portlet-dialog t-moda-center03  t-moda-left-center03">
			<div class="modal-content t-modal-drags-fixed" drag>
			<div class="t-modal-drag-handle" drag-handle></div>	
					<div class="portlet modal_portlet" modalsize>
				        <div class="portlet-title t-modal-header">
							<div class="caption">			
								用户信息更改		
							</div>                
				            <div class="tools">
				                <a href="" class="collapse"> </a>               
				                <a href="" class="fullscreen"> </a>
				                <a href="" class="close" ng-click="editHidemodal();"> </a>
				            </div>

				        </div>
				        <div class="portlet-body">
				        	<div class="t-user-modal-auto">
									<div class="error" ng-show="userUpdateAccout">
										<div class="alert-danger well-sm" ng-show="userUpdateErrMsg">{{errorUpdateMsg}}</div>
									</div>
									<div class="alert-danger well-sm" ng-show="updateForm.submitted ">必填项不能为空</div>
									<div class="alert-danger well-sm"  ng-show="iconUpError" id="updateIconId">选择的图片最大为50KB</div>
									
									<div class=" alert-danger well-sm" ng-show="updateForm.email">邮箱格式有误！</div>
									
									<div class="error" ng-show="updateForm.isSame">
													<div class="alert-danger well-sm" ng-show="true">两次密码输入不一致</div>
												</div>
									<div class="alert-danger well-sm"
													ng-show="updateForm.postalCode">邮政编码格式有误</div>
								    <div class=" alert-danger well-sm" ng-show="emailUpAlreadyExit">邮件已被注册！</div>
									<div class="alert-danger well-sm" ng-show="updateForm.tel">手机号格式有误!</div>
									<div class="alert-danger well-sm" ng-show="updateForm.fixedTel">电话号格式有误!</div>
									<table class="table table-bordered t-table-bottom0 t-user-table hidden-xs hidden-sm">
										<tbody>
											<tr>
												<td class="active ali-middle" style="width: 13%;"><label
													class="pull-right">头像：</label></td>
												<td class="ali-middle">
												<div class="userPhoto">
												<img id="updateUserPhoto" src=""
													alt="" width="50px;" height="50px;" />
													</div>
													<div class="t-relative">
														<input type="file" class="t-file-up-alpha"
															style="width:80px;height:50px;" id="inputFile" ng-model="userphoto"
															accept="image/jpeg">
														<div class="uneditable-input" style="border: 0;">
															<a href="javascript:" class="btn btn-primary green greenbtn"
																id="selectAddUserIcon">选择</a> &nbsp;<a href="javascript:"
																ng-click="clearPhoto()" class="btn btn-default"
																id="cleanAddUserIcon">清除</a>
														</div>
													</div></td>
													
												<td class="active ali-middle" style="width: 13%;"><label
													class="pull-right">用户组:</label></td>
												<td class="width-35">
													<div class="t-user-modal-group">
														<div ng-repeat="group in groupList">
															<input type="checkbox" name="child_group"
																value="{{group.id}}" />{{group.name}}
														</div>
													</div>
												</td>
											</tr>

											<tr>
											  	<td class="active ali-middle"><label class="pull-right"><font
														color="red">*</font>姓名:</label></td>
												<td class="ali-middle"><input name="name"
													class="form-control " type="text" maxlength="20" required
													ng-model="userInfo.name"></td>
					
												<td class="active ali-middle"><label class="pull-right"><font
														color="red">*</font>账号:</label></td>
												<td>
													<div class="input-group">
														<input name="account" readonly="readonly"  name="account"
															class="form-control ng-valid  t-user-btn-disabled" type="text"
															maxlength="20" ng-model="userInfo.account" required  disabled="disabled">
														<span class="input-group-btn">
															<button type="button" id="officeButton"
																class="btn green greenbtn btn-primary disabled t-user-btn-disabled" disabled="disabled">
																<i class="fa fa-user"></i>
															</button>
														</span>
													</div>
												</td>
											</tr>
				                             <tr>
												<td class="active ali-middle"><label class="pull-right">密码:</label></td>
												<td><input type="password" ng-change="checkPassword()"
													class="form-control" ng-model="sysUserPwd.password" ng-focus="hideErrorPsw()"
													name="password" id="password" autocomplete="off" maxlength="20"
													placeholder="若不修改，密码留空"></td>
												<td class="active ali-middle"><label class="pull-right">确认密码:</label></td>
												<td><input type="password" ng-change="checkPassword()" ng-focus="hideErrorPsw()"
													autocomplete="off" ng-model="rpassword"
													name="rePassword" class="form-control" maxlength="20"
													placeholder=""></td>
												
											</tr>
											<tr>
												<td class="active ali-middle"><label class="pull-right">性别:</label></td>
												<td><select class="form-control" ng-model="userInfo.sex"
													ng-options="sexDict.value for sexDict in sexDicts"
													style="width: 100%;"></select></td>
												
													<td class="active ali-middle"><label class="pull-right"><font
														color="red">*</font>机构:</label></td>
												<td><div class="input-group" ng-click="deptSelect()">
														<input id="dept" name="dept" readonly="readonly"
															style="background: #fff" class="form-control  pull-left"
															required type="text" maxlength="20" ng-model="deptNameUpdate">
														<span class="input-group-btn">
															<button type="button" id="companyButton"
																class="btn btn-primary green greenbtn">
																<i class="fa fa-search"></i>
															</button>
														</span>
													</div></td>	
											</tr>
											<tr>
												<td class="active ali-middle"><label class="pull-right">生日:</label></td>
												<td>
													<div class="input-group " style="width: 100%;">
														<input type="text" class="form-control"
															style="background: #fff" datepicker-popup="{{format}}"
															ng-model="userInfo.birthday" is-open="opened"
															max-date="sysTime" readonly="readonly"
															datepicker-options="dateOptions"  date-disabled="disabled(date, mode)"
															 ng-click="open($event)" />
														<div class="input-group-addon btn green greenbtn t-user-btn-default" ng-click="open($event)" >
															<i class="fa fa-calendar" ></i>
														</div>
													</div>
												</td>

												<td class="active ali-middle"><label class="pull-right"><font
														color="red">*</font>邮箱:</label></td>
												<td><input class="form-control  ng-touched" maxlength="32" required name="youjian"
													ng-blur="checkEmail()" ng-change="emailChange()" type="text"  ng-focus="emailFocus()"
													ng-model="userInfo.email"></td>
												
											</tr>

											<tr>
												<td class="active ali-middle"><label class="pull-right">证件类型:</label></td>
												<td><select class="form-control" ng-model="userInfo.idType"
													ng-options="idTypeDict.value for idTypeDict in idTypeDicts"
													style="width: 100%;"></select></td>
												<td class="active ali-middle"><label class="pull-right">证件号:</label></td>
												<td><input class="form-control  ng-touched" maxlength="30"
													type="text" ng-model="userInfo.idNum"></td>
											</tr>

											<tr>
												<td class="active ali-middle"><label class="pull-right">地址:</label></td>
												<td><input class="form-control  digits" type="text"
													maxlength="128" ng-model="userInfo.address"></td>
												<td class="active ali-middle"><label class="pull-right">邮编:</label></td>
												<td><input class="form-control  ng-touched" maxlength="6"
													ng-blur="checkPostalCode()" ng-change="changePostalCode()" ng-focus ="checkFocus()"
													type="text" ng-model="userInfo.postalCode"></td>

												
											</tr>

												<tr>
												<td class="active ali-middle"><label class="pull-right">电话:</label></td>
												<td><input ng-blur="checkFexTel()"
													ng-change="changeFexTel()" class="form-control  abc" ng-focus="hideErrorFexTel()"
													type="text" maxlength="13" ng-model="userInfo.fixedTel"></td>								

												<td class="active ali-middle"><label class="pull-right">手机号:</label></td>
												<td><input class="form-control " type="text"
													ng-blur="checkPhone()" ng-change="changePhone()" maxlength="11" ng-focus="hideErrorPhone()"
													ng-model="userInfo.tel"></td>								
											</tr>


											<tr>
												<td class="active ali-middle"><label class="pull-right">用户类型:</label></td>
												<td><select class="form-control" ng-model="userInfo.type"
													ng-options="dict.value for dict in userTypeDicts"
													style="width: 100%;"></select></td>
												<td class="active ali-middle"><label class="pull-right">头衔:</label></td>
												<td><input class="form-control  digits" type="text"
													maxlength="12" ng-model="userInfo.title"></td>
											</tr>

										</tbody>
									</table>
								<div class="form-horizontal hidden-md hidden-lg" role="form">
								<div class="form-group ">
								    <label class="col-sm-3 control-label ">头像:</label>
								     <div class="col-sm-9">
								    	<div class="userPhoto"> <img id="updateUserPhotoApp" src="" alt="" width="50px;" height="50px;" /> </div>
										<div class="t-relative">
											<input type="file" class="t-file-up-alpha" style="width:80px;height:50px;" id="inputFileApp" ng-model="userphoto" accept="image/jpeg">
											<div class="uneditable-input" style="border: 0;">
												<a href="javascript:" class="btn btn-primary green greenbtn" id="selectAddUserIcon">选择</a> &nbsp;
												<a href="javascript:" ng-click="clearPhoto()" class="btn btn-default" id="cleanAddUserIcon">清除</a>
											</div>
										</div>
								    </div>
								 </div>
								<div class="form-group">
								    <label  class="col-sm-3 control-label">用户组:</label>
								     <div class="col-sm-9">
						    			<div  class="t-user-modal-group col-bordered" >
											<div ng-repeat="group in groupList">
												<input type="checkbox" name="child_group" value="{{group.id}}" />{{group.name}}
											</div>
										</div>	
								    </div>
								  </div>
								  <div class="form-group ">
								    <label  class="col-sm-3 control-label"><font color="red">*</font>姓名:</label>
								    <div class="col-sm-9">
								    	<input name="name" class="form-control" type="text" maxlength="20" required ng-model="userInfo.name">
								    </div>
								  </div>
								  <div class="form-group ">
								    <label  class="col-sm-3 control-label "><font color="red">*</font>账号:</label>
								     <div class="col-sm-9">									    					    
										<input name="account" readonly="readonly"  name="account" class="form-control ng-valid  t-user-btn-disabled" type="text" maxlength="20" ng-model="userInfo.account" required  disabled="disabled">
								    </div>
								  </div>
								 <div class="form-group ">
								    <label  class="col-sm-3 control-label "><font color="red">*</font>密码:</label>
								     <div class="col-sm-9">
								     <input type="password" ng-change="checkPassword()" class="form-control" ng-model="sysUserPwd.password" ng-focus="hideErrorPsw()" name="password" id="password" autocomplete="off" maxlength="20" placeholder="若不修改，密码留空">								    	
								    </div>
								  </div>
									<div class="form-group ">
								    <label  class="col-sm-3 control-label "><font color="red">*</font>确认密码:</label>
								     <div class="col-sm-9">
								     	<input type="password" ng-change="checkPassword()" ng-focus="hideErrorPsw()" autocomplete="off" ng-model="rpassword" name="rePassword" class="form-control" maxlength="20" placeholder="">								    	
								    </div>
								  </div>
									<div class="form-group ">
								    <label  class="col-sm-3 control-label ">性别:</label>
								     <div class="col-sm-9">
								     	<select class="form-control" ng-model="userInfo.sex" ng-options="sexDict.value for sexDict in sexDicts" ></select>								    	
								    </div>
								  </div>
								<div class="form-group ">
								    <label  class="col-sm-3 control-label "><font color="red">*</font>机构:</label>
								     <div class="col-sm-9">
							     		<div class="input-group" ng-click="deptSelect()">
											<input id="dept" name="dept" readonly="readonly" style="background: #fff" class="form-control  pull-left" required type="text" maxlength="20" ng-model="deptNameUpdate">
											<span class="input-group-btn">
												<button type="button" id="companyButton" class="btn btn-primary green greenbtn">
													<i class="fa fa-search"></i>
												</button>
											</span>
										</div>								   
								    </div>
								  </div>
								<div class="form-group ">
								    <label  class="col-sm-3 control-label ">生日:</label>
								     <div class="col-sm-9">
								    	<div class="input-group " style="width: 100%;">
											<input type="text" class="form-control" style="background: #fff" datepicker-popup="{{format}}" ng-model="userInfo.birthday" is-open="opened"
												max-date="minDate" readonly="readonly" datepicker-options="dateOptions" current-text="今天" clear-text="清除" date-disabled="disabled(date, mode)"
												close-text="关闭" ng-click="open($event)" />
											<div class="input-group-addon btn green greenbtn t-user-btn-default" ng-click="open($event)">
												<i class="fa fa-calendar" ></i>
											</div>
										</div>
								    </div>
								  </div>
								<div class="form-group ">
								    <label  class="col-sm-3 control-label "><font color="red">*</font>邮箱:</label>
								     <div class="col-sm-9">
								    	<input class="form-control  ng-touched" maxlength="32" required name="youjian" ng-blur="checkEmail()" ng-change="emailChange()" type="text"  ng-focus="emailFocus()" ng-model="userInfo.email">
								    </div>
								  </div>
								<div class="form-group ">
								    <label  class="col-sm-3 control-label ">证件类型:</label>
								    <div class="col-sm-9">
								    	<select class="form-control" ng-model="userInfo.idType" ng-options="idTypeDict.value for idTypeDict in idTypeDicts" ></select>		     
								    </div>
								  </div>
								  <div class="form-group ">
								  <label  class="col-sm-3 control-label ">证件号:</label>
								    <div class="col-sm-9">
								    	<input class="form-control  ng-touched" maxlength="30" type="text" ng-model="userInfo.idNum">					     
								    </div>
								  </div>
								  <div class="form-group ">
								    <label  class="col-sm-3 control-label ">地址:</label>
								    <div class="col-sm-9">
								    	<input class="form-control  digits" type="text" maxlength="128" ng-model="userInfo.address">		     
								    </div>
								  </div>
								  <div class="form-group ">
								    <label  class="col-sm-3 control-label ">邮编:</label>
								    <div class="col-sm-9">
								    	<input class="form-control  ng-touched" maxlength="6" ng-blur="checkPostalCode()" ng-change="changePostalCode()" ng-focus ="checkFocus()" type="text" ng-model="userInfo.postalCode">		     
								    </div>
								  </div>
								 <div class="form-group ">
								    <label  class="col-sm-3 control-label ">电话:</label>
								    <div class="col-sm-9">
								    	<input ng-blur="checkFexTel()" ng-change="changeFexTel()" class="form-control  abc" ng-focus="hideErrorFexTel()" type="text" maxlength="13" ng-model="userInfo.fixedTel">					     
								    </div>
								  </div>
								  <div class="form-group ">
								    <label  class="col-sm-3 control-label ">手机号:</label>
								    <div class="col-sm-9">
								    	<input class="form-control " type="text" ng-blur="checkPhone()" ng-change="changePhone()" maxlength="11" ng-focus="hideErrorPhone()" ng-model="userInfo.tel">
								    </div>
								  </div>
								  <div class="form-group">
								    <label  class="col-sm-3 control-label ">用户类型:</label>
								    <div class="col-sm-9">
								   		<select class="form-control" ng-model="userInfo.type" ng-options="dict.value for dict in userTypeDicts" ></select>
								    </div>
								  </div>
								  <div class="form-group">
								    <label  class="col-sm-3 control-label ">头衔:</label>
								    <div class="col-sm-9">
								   		<input class="form-control  digits" type="text" maxlength="12" ng-model="userInfo.title">
								    </div>
								  </div>
								</div>
								 </div>
								<div class="portlet-foot t-modal-footer row">                
					            	<button class="btn btn-primary" ng-click="updateUser();" id="butt" type="sumbit" ng-disabled="updateForm.account.$error.required || updateForm.name.$error.required || updateForm.dept.$error.required || updateForm.youjian.$error.required || updateForm.email || updateForm.isSame || updateForm.tel || updateForm.fixedTel || updateForm.postalCode || emailUpAlreadyExit">确认</button>
									<button class="btn btn-default" ng-click="editHidemodal()" id="closeEditUserShowId">关闭</button>
						        </div>
				        </div>
				       <div data-ng-include="'packages/sys/views/user/replaceGroups.html'"></div>
				 </div>
			</div>
		</div>
	</form>
</div>