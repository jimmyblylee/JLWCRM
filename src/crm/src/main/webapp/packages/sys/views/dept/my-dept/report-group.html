<!-- BEGIN PAGE HEADER 2016-->
<ng-include src="'packages/index/tpl/page-header.html'"></ng-include>
<div class="row mt10" ng-controller="ReportGroupCtrl">
    <div class="portlet light bordered full-height-content">
        <div class="portlet-body content">
            <div class="full-height-content col-md-4">
                <label class="report-group-name-invalid font-red-thunderbird hide">请填写报表组名称</label>
                <div class="input-group">
                    <input class="form-control" placeholder="请填写报表组名称" ng-model="deptData.name" />
                    <span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="createGroup()"><i class="fa fa-plus"></i>添加报表组</button></span>
                </div>
                <div class="input-group">
                    <select ng-model="assignReportName"
                            ng-options='dsReportList.name as dsReportList.name group by dsReportList.group for dsReportList in dsReportList'
                            class="form-control"
                            ng-change="reportChange()"></select>
                    <span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="addReport()"><i class="fa fa-plus"></i>添加报表</button></span>
                </div>
                <table class="table">
                    <thead>
                    <tr>
                        <th class="name text-center wid220px"><span>报表组</span></th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="odd gradeX" ng-repeat="group in groupList">
                        <td class=" text-center  wid220px"><a href="javascript:;" ng-click="refreshReport(group.id, group.name);"><font color="blue"><u>{{group.name}}</u></font></a></td>
                        <td>
                        	 <button class="label label-sm btn red btn-xs ng-scope"
								id="Paramdelete"
								ng-click="deleteGroup(group.id)"
								data-trigger="hover" data-type="success" data-title="删除"
								bs-tooltip="">
									<i class="fa fa-trash"></i>
								</button>
                        </td>
                       <td>
                             <button class="label label-sm btn btn-primary btn-xs"
									ng-click="modifyGroup(group)"
									data-trigger="hover" data-type="success" data-title="编辑"
									bs-tooltip>
									<i class="fa fa-edit"></i>
								</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-8">
                <table class="table table-striped table-bordered">
                    <thead>
                    <tr>
                        <th colspan="3" class="selected-group-header">{{selectedGroupName}}</th>
                    </tr>
                    <tr>
                        <th>报表编号</th>
                        <th>报表名称</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in assignedReportList">
                        <td>{{item.number}}</td>
                        <td>{{item.name}}</td>
                        <td><a href="javascript:;" style="color:#337ab7; text-decoration: none;" ng-click="deleteReport(item.id)">移除</a> </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
