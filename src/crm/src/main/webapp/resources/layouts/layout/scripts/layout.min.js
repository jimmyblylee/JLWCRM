var Layout=function(){var m="layouts/layout/img/";var f="layouts/layout/css/";var e=App.getResponsiveBreakpoint("md");var c=function(){var s=$(".page-content");var t=$(".page-sidebar");var p=$("body");var o;if(p.hasClass("page-footer-fixed")===true&&p.hasClass("page-sidebar-fixed")===false){var u=App.getViewPort().height-$(".page-footer").outerHeight()-$(".page-header").outerHeight();if(s.height()<u){s.attr("style","min-height:"+u+"px")}}else{if(p.hasClass("page-sidebar-fixed")){o=h();if(p.hasClass("page-footer-fixed")===false){o=o-$(".page-footer").outerHeight()}}else{var q=$(".page-header").outerHeight();var r=$(".page-footer").outerHeight();if(App.getViewPort().width<e){o=App.getViewPort().height-q-r}else{o=t.height()+20}if((o+q+r)<=App.getViewPort().height){o=App.getViewPort().height-q-r}}s.attr("style","min-height:"+o+"px")}};var a=function(t,r){var q=location.hash.toLowerCase();var s=$(".page-sidebar-menu");if(t==="click"||t==="set"){r=$(r)}else{if(t==="match"){s.find("li > a").each(function(){var u=$(this).attr("href").toLowerCase();if(u.length>1&&q.substr(1,u.length-1)==u.substr(1)){r=$(this);return}})}}if(!r||r.size()==0){return}if(r.attr("href").toLowerCase()==="javascript:;"||r.attr("href").toLowerCase()==="#"){return}var o=parseInt(s.data("slide-speed"));var p=s.data("keep-expanded");if(s.hasClass("page-sidebar-menu-hover-submenu")===false){s.find("li.nav-item.open").each(function(){var u=false;$(this).find("li").each(function(){if($(this).find(" > a").attr("href")===r.attr("href")){u=true;return}});if(u===true){return}$(this).removeClass("open");$(this).find("> a > .arrow.open").removeClass("open");$(this).find("> .sub-menu").slideUp()})}else{s.find("li.open").removeClass("open")}s.find("li.active").removeClass("active");s.find("li > a > .selected").remove();r.parents("li").each(function(){$(this).addClass("active");$(this).find("> a > span.arrow").addClass("open");if(JSON.parse(window.sessionStorage.getItem("pageBarData"))==undefined||JSON.parse(window.sessionStorage.getItem("pageBarData"))==null||JSON.parse(window.sessionStorage.getItem("pageBarData"))==""){$(this).find("> a > div").click()}if($(this).parent("ul.page-sidebar-menu").size()===1){$(this).find("> a").append('<span class="selected"></span>')}if($(this).children("ul.sub-menu").size()===1){$(this).addClass("open")}});if(t==="click"){if(App.getViewPort().width<e&&$(".page-sidebar").hasClass("in")){$(".page-header .responsive-toggler").click()}}};var n=function(){$(".page-sidebar-menu").on("click","li > a.nav-toggle, li > a > span.nav-toggle",function(v){var u=$(this).closest(".nav-item").children(".nav-link");if(App.getViewPort().width>=e&&!$(".page-sidebar-menu").attr("data-initialized")&&$("body").hasClass("page-sidebar-closed")&&u.parent("li").parent(".page-sidebar-menu").size()===1){return}var p=u.next().hasClass("sub-menu");if(App.getViewPort().width>=e&&u.parents(".page-sidebar-menu-hover-submenu").size()===1){return}if(p===false){if(App.getViewPort().width<e&&$(".page-sidebar").hasClass("in")){$(".page-header .responsive-toggler").click()}return}var y=u.parent().parent();var w=u;var q=$(".page-sidebar-menu");var o=u.next();var x=q.data("auto-scroll");var s=parseInt(q.data("slide-speed"));var r=q.data("keep-expanded");if(!r){y.children("li.open").children("a").children(".arrow").removeClass("open");y.children("li.open").children(".sub-menu:not(.always-open)").slideUp(s);y.children("li.open").removeClass("open")}var t=-200;if(o.is(":visible")){$(".arrow",w).removeClass("open");w.parent().removeClass("open");o.slideUp(s,function(){if(x===true&&$("body").hasClass("page-sidebar-closed")===false){if($("body").hasClass("page-sidebar-fixed")){q.slimScroll({"scrollTo":(w.position()).top})}else{App.scrollTo(w,t)}}c()})}else{if(p){$(".arrow",w).addClass("open");w.parent().addClass("open");o.slideDown(s,function(){if(x===true&&$("body").hasClass("page-sidebar-closed")===false){if($("body").hasClass("page-sidebar-fixed")){q.slimScroll({"scrollTo":(w.position()).top})}else{App.scrollTo(w,t)}}c()})}}v.preventDefault()});if(App.isAngularJsApp()){$(".page-sidebar-menu li > a").on("click",function(o){if(App.getViewPort().width<e&&$(this).next().hasClass("sub-menu")===false){$(".page-header .responsive-toggler").click()}})}$(".page-sidebar").on("click"," li > a.ajaxify",function(s){s.preventDefault();App.scrollTop();var o=$(this).attr("href");var r=$(".page-sidebar ul");var q=$(".page-content");var t=$(".page-content .page-content-body");r.children("li.active").removeClass("active");r.children("arrow.open").removeClass("open");$(this).parents("li").each(function(){$(this).addClass("active");$(this).children("a > span.arrow").addClass("open")});$(this).parents("li").addClass("active");if(App.getViewPort().width<e&&$(".page-sidebar").hasClass("in")){$(".page-header .responsive-toggler").click()}App.startPageLoading();var p=$(this);$.ajax({type:"GET",cache:false,url:o,dataType:"html",success:function(u){if(p.parents("li.open").size()===0){$(".page-sidebar-menu > li.open > a").click()
}App.stopPageLoading();t.html(u);Layout.fixContentHeight();App.initAjax()},error:function(w,u,v){App.stopPageLoading();t.html("<h4>Could not load the requested content.</h4>")}})});$(".page-content").on("click",".ajaxify",function(q){q.preventDefault();App.scrollTop();var o=$(this).attr("href");var p=$(".page-content");var r=$(".page-content .page-content-body");App.startPageLoading();if(App.getViewPort().width<e&&$(".page-sidebar").hasClass("in")){$(".page-header .responsive-toggler").click()}$.ajax({type:"GET",cache:false,url:o,dataType:"html",success:function(s){App.stopPageLoading();r.html(s);Layout.fixContentHeight();App.initAjax()},error:function(u,s,t){r.html("<h4>Could not load the requested content.</h4>");App.stopPageLoading()}})});$(document).on("click",".page-header-fixed-mobile .page-header .responsive-toggler",function(){App.scrollTop()});b();$(".page-sidebar").on("click",".sidebar-search .remove",function(o){o.preventDefault();$(".sidebar-search").removeClass("open")});$(".page-sidebar .sidebar-search").on("keypress","input.form-control",function(o){if(o.which==13){$(".sidebar-search").submit();return false}});$(".sidebar-search .submit").on("click",function(o){o.preventDefault();if($("body").hasClass("page-sidebar-closed")){if($(".sidebar-search").hasClass("open")===false){if($(".page-sidebar-fixed").size()===1){$(".page-sidebar .sidebar-toggler").click()}$(".sidebar-search").addClass("open")}else{$(".sidebar-search").submit()}}else{$(".sidebar-search").submit()}});if($(".sidebar-search").size()!==0){$(".sidebar-search .input-group").on("click",function(o){o.stopPropagation()});$("body").on("click",function(){if($(".sidebar-search").hasClass("open")){$(".sidebar-search").removeClass("open")}})}};var h=function(){var o=App.getViewPort().height-$(".page-header").outerHeight(true);if($("body").hasClass("page-footer-fixed")){o=o-$(".page-footer").outerHeight()}return o};var j=function(){var p=$(".page-sidebar-menu");App.destroySlimScroll(p);if($(".page-sidebar-fixed").size()===0){c();return}if(App.getViewPort().width>=e){p.attr("data-height",h());var o=$(".t-menu-option option:selected").text();if(o!="top"){App.initSlimScroll(p)}c()}};var b=function(){var o=$("body");if(o.hasClass("page-sidebar-fixed")){$(".page-sidebar").on("mouseenter",function(){if(o.hasClass("page-sidebar-closed")){$(this).find(".page-sidebar-menu").removeClass("page-sidebar-menu-closed")}}).on("mouseleave",function(){if(o.hasClass("page-sidebar-closed")){$(this).find(".page-sidebar-menu").addClass("page-sidebar-menu-closed")}})}};var d=function(){var o=$("body");if($.cookie&&$.cookie("sidebar_closed")==="1"&&App.getViewPort().width>=e){$("body").addClass("page-sidebar-closed");$(".page-sidebar-menu").addClass("page-sidebar-menu-closed")}$("body").on("click",".sidebar-toggler",function(u){var s=$(".page-sidebar");var p=$(".page-sidebar-menu");$(".sidebar-search",s).removeClass("open");var r=$(".page-content-wrapper>.page-content");var t=$(".t-menu-left");var q=$(".t-menu-option option:selected").text();if(o.hasClass("page-sidebar-closed")){o.removeClass("page-sidebar-closed");p.removeClass("page-sidebar-menu-closed");if(q=="top"){r.addClass("t-addmeun");t.addClass("t-page-sidebar")}if($.cookie){$.cookie("sidebar_closed","0")}}else{o.addClass("page-sidebar-closed");p.addClass("page-sidebar-menu-closed");if(q=="top"){t.removeClass("t-page-sidebar");r.removeClass("t-addmeun")}if(o.hasClass("page-sidebar-fixed")){p.trigger("mouseleave")}if($.cookie){$.cookie("sidebar_closed","1")}}$(window).trigger("resize")})};var k=function(){$(".page-header").on("click",'.hor-menu a[data-toggle="tab"]',function(p){p.preventDefault();var q=$(".hor-menu .nav");var o=q.find("li.current");$("li.active",o).removeClass("active");$(".selected",o).remove();var r=$(this).parents("li").last();r.addClass("current");r.find("a:first").append('<span class="selected"></span>')});$(".page-header").on("click",".search-form",function(o){$(this).addClass("open");$(this).find(".form-control").focus();$(".page-header .search-form .form-control").on("blur",function(p){$(this).closest(".search-form").removeClass("open");$(this).unbind("blur")})});$(".page-header").on("keypress",".hor-menu .search-form .form-control",function(o){if(o.which==13){$(this).closest(".search-form").submit();return false}});$(".page-header").on("mousedown",".search-form.open .submit",function(o){o.preventDefault();o.stopPropagation();$(this).closest(".search-form").submit()});$('[data-hover="megamenu-dropdown"]').not(".hover-initialized").each(function(){$(this).dropdownHover();$(this).addClass("hover-initialized")});$(document).on("click",".mega-menu-dropdown .dropdown-menu",function(o){o.stopPropagation()})};var i=function(){$("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){c()})};var g=function(){var p=300;var o=500;if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){$(window).bind("touchend touchcancel touchleave",function(q){if($(this).scrollTop()>p){$(".scroll-to-top").fadeIn(o)
}else{$(".scroll-to-top").fadeOut(o)}})}else{$(window).scroll(function(){if($(this).scrollTop()>p){$(".scroll-to-top").fadeIn(o)}else{$(".scroll-to-top").fadeOut(o)}})}$(".scroll-to-top").click(function(q){q.preventDefault();$("html, body").animate({scrollTop:0},o);return false})};var l=function(){$(".full-height-content").each(function(){var p=$(this);var o;page_header_height=$(".page-header").outerHeight(true);if($(".page-header").outerHeight(true)==null){page_header_height=50}o=App.getViewPort().height-page_header_height-$(".page-footer").outerHeight(true)-$(".page-title").outerHeight(true)-$(".page-bar").outerHeight(true)-80;if(p.hasClass("portlet")){var q=p.find(".portlet-body");App.destroySlimScroll(q.find(".full-height-content-body"));o=o-p.find(".portlet-title").outerHeight(true)-parseInt(p.find(".portlet-body").css("padding-top"))-parseInt(p.find(".portlet-body").css("padding-bottom"))-5;if(App.getViewPort().width>=e&&p.hasClass("full-height-content-scrollable")){o=o-35;q.find(".full-height-content-body").css("height",o);App.initSlimScroll(q.find(".full-height-content-body"))}else{q.css("min-height",o)}}else{if(p.hasClass("table-both-scroll")){if(App.getViewPort().width>992){o=o-$(".search-bar").outerHeight(true)-140;$(".table-both-scroll>tbody").css("max-height",o);table_scrollheight=o;if($(".table-both-scroll tbody table").outerHeight(true)>table_scrollheight){$(".table-both-scroll>thead>tr>th").css({"padding-right":"17px"})}else{$(".table-both-scroll>thead>tr>th").css({"padding-right":"0"})}}}else{App.destroySlimScroll(p.find(".full-height-content-body"));if(App.getViewPort().width>=e&&p.hasClass("full-height-content-scrollable")){o=o-35;p.find(".full-height-content-body").css("height",o);App.initSlimScroll(p.find(".full-height-content-body"))}else{if(App.getViewPort().width<991){p.css("min-height",0)}else{p.css("min-height",o-20)}}}}})};return{initHeader:function(){k()},setSidebarMenuActiveLink:function(p,o){a(p,o)},initSidebar:function(){j();n();d();if(App.isAngularJsApp()){a("match")}App.addResizeHandler(j)},initContent:function(){c();l();i();App.addResizeHandler(c);App.addResizeHandler(l)},initFooter:function(){g()},init:function(){this.initHeader();this.initSidebar();this.initContent();this.initFooter()},fixContentHeight:function(){c()},initFixedSidebarHoverEffect:function(){b()},initFixedSidebar:function(){j()},getLayoutImgPath:function(){return App.getAssetsPath()+m},getLayoutCssPath:function(){return App.getAssetsPath()+f}}}();if(App.isAngularJsApp()===false){jQuery(document).ready(function(){Layout.init()})};